/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/notifications/route";
exports.ids = ["app/api/notifications/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Froute&page=%2Fapi%2Fnotifications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Froute&page=%2Fapi%2Fnotifications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_src_app_api_notifications_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/notifications/route.ts */ \"(rsc)/./src/app/api/notifications/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/notifications/route\",\n        pathname: \"/api/notifications\",\n        filename: \"route\",\n        bundlePath: \"app/api/notifications/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/notifications/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_notifications_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZub3RpZmljYXRpb25zJTJGcm91dGUmcGFnZT0lMkZhcGklMkZub3RpZmljYXRpb25zJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbm90aWZpY2F0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNTO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9hcHAvYXBpL25vdGlmaWNhdGlvbnMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25vdGlmaWNhdGlvbnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ub3RpZmljYXRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ub3RpZmljYXRpb25zL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Froute&page=%2Fapi%2Fnotifications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/login/users.ts":
/*!************************************!*\
  !*** ./src/app/api/login/users.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n// ** Fake user data and data type\n// ** Please remove below user data and data type in production and verify user with Real Database\n// =============== Fake Data ============================\nconst users = [\n    {\n        id: 1,\n        name: 'Admin User',\n        password: 'admin',\n        email: 'admin@vuexy.com',\n        image: '/images/avatars/1.png',\n        tenantId: 'tenant-demo-001',\n        branchId: undefined,\n        roles: [\n            'admin',\n            'super_admin'\n        ],\n        permissions: [\n            '*'\n        ] // Wildcard = all permissions\n    },\n    {\n        id: 2,\n        name: 'Rajesh Kumar',\n        password: 'manager',\n        email: 'manager@incline.gym',\n        image: '/images/avatars/2.png',\n        tenantId: 'tenant-demo-001',\n        branchId: '576332a0-e48c-4931-933d-92dedd4e460f',\n        roles: [\n            'manager'\n        ],\n        permissions: [\n            'members.*',\n            'classes.*',\n            'attendance.*',\n            'referrals.*',\n            'dashboard.view',\n            'reports.*',\n            'leads.*',\n            'equipment.*',\n            'products.*',\n            'inventory.*',\n            'lockers.*',\n            'staff.view'\n        ]\n    },\n    {\n        id: 3,\n        name: 'Priya Sharma',\n        password: 'trainer',\n        email: 'trainer@incline.gym',\n        image: '/images/avatars/3.png',\n        tenantId: 'tenant-demo-001',\n        branchId: '576332a0-e48c-4931-933d-92dedd4e460f',\n        roles: [\n            'trainer'\n        ],\n        permissions: [\n            'members.view',\n            'classes.*',\n            'attendance.view',\n            'dashboard.view'\n        ]\n    },\n    {\n        id: 4,\n        name: 'Amit Patel',\n        password: 'member',\n        email: 'member@incline.gym',\n        image: '/images/avatars/4.png',\n        tenantId: 'tenant-demo-001',\n        branchId: '576332a0-e48c-4931-933d-92dedd4e460f',\n        roles: [\n            'member'\n        ],\n        permissions: [\n            'member-portal.*',\n            'self.view'\n        ]\n    },\n    {\n        id: 5,\n        name: 'Sneha Gupta',\n        password: 'staff',\n        email: 'staff@incline.gym',\n        image: '/images/avatars/5.png',\n        tenantId: 'tenant-demo-001',\n        branchId: '576332a0-e48c-4931-933d-92dedd4e460f',\n        roles: [\n            'staff'\n        ],\n        permissions: [\n            'attendance.*',\n            'members.view',\n            'classes.view',\n            'lockers.view',\n            'products.view',\n            'dashboard.view'\n        ]\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9sb2dpbi91c2Vycy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsa0NBQWtDO0FBRWxDLGtHQUFrRztBQWFsRyx5REFBeUQ7QUFFbEQsTUFBTUEsUUFBcUI7SUFDaEM7UUFDRUMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsVUFBVUM7UUFDVkMsT0FBTztZQUFDO1lBQVM7U0FBYztRQUMvQkMsYUFBYTtZQUFDO1NBQUksQ0FBQyw2QkFBNkI7SUFDbEQ7SUFDQTtRQUNFVCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1FBQ1ZFLE9BQU87WUFBQztTQUFVO1FBQ2xCQyxhQUFhO1lBQUM7WUFBYTtZQUFhO1lBQWdCO1lBQWU7WUFBa0I7WUFBYTtZQUFXO1lBQWU7WUFBYztZQUFlO1lBQWE7U0FBYTtJQUN6TDtJQUNBO1FBQ0VULElBQUk7UUFDSkMsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLE9BQU87UUFDUEMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLFVBQVU7UUFDVkUsT0FBTztZQUFDO1NBQVU7UUFDbEJDLGFBQWE7WUFBQztZQUFnQjtZQUFhO1lBQW1CO1NBQWlCO0lBQ2pGO0lBQ0E7UUFDRVQsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsT0FBTztRQUNQQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsVUFBVTtRQUNWRSxPQUFPO1lBQUM7U0FBUztRQUNqQkMsYUFBYTtZQUFDO1lBQW1CO1NBQVk7SUFDL0M7SUFDQTtRQUNFVCxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsVUFBVTtRQUNWQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1FBQ1ZFLE9BQU87WUFBQztTQUFRO1FBQ2hCQyxhQUFhO1lBQUM7WUFBZ0I7WUFBZ0I7WUFBZ0I7WUFBZ0I7WUFBaUI7U0FBaUI7SUFDbEg7Q0FDRCIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9sb2dpbi91c2Vycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAqKiBGYWtlIHVzZXIgZGF0YSBhbmQgZGF0YSB0eXBlXG5cbi8vICoqIFBsZWFzZSByZW1vdmUgYmVsb3cgdXNlciBkYXRhIGFuZCBkYXRhIHR5cGUgaW4gcHJvZHVjdGlvbiBhbmQgdmVyaWZ5IHVzZXIgd2l0aCBSZWFsIERhdGFiYXNlXG5leHBvcnQgdHlwZSBVc2VyVGFibGUgPSB7XG4gIGlkOiBudW1iZXJcbiAgbmFtZTogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgaW1hZ2U6IHN0cmluZ1xuICBwYXNzd29yZDogc3RyaW5nXG4gIHRlbmFudElkOiBzdHJpbmdcbiAgYnJhbmNoSWQ/OiBzdHJpbmdcbiAgcm9sZXM6IHN0cmluZ1tdXG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXVxufVxuXG4vLyA9PT09PT09PT09PT09PT0gRmFrZSBEYXRhID09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHVzZXJzOiBVc2VyVGFibGVbXSA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIG5hbWU6ICdBZG1pbiBVc2VyJyxcbiAgICBwYXNzd29yZDogJ2FkbWluJyxcbiAgICBlbWFpbDogJ2FkbWluQHZ1ZXh5LmNvbScsXG4gICAgaW1hZ2U6ICcvaW1hZ2VzL2F2YXRhcnMvMS5wbmcnLFxuICAgIHRlbmFudElkOiAndGVuYW50LWRlbW8tMDAxJyxcbiAgICBicmFuY2hJZDogdW5kZWZpbmVkLCAvLyBUZW5hbnQtbGV2ZWwgYWRtaW4gLSBjYW4gc2VlIGFsbCBicmFuY2hlc1xuICAgIHJvbGVzOiBbJ2FkbWluJywgJ3N1cGVyX2FkbWluJ10sXG4gICAgcGVybWlzc2lvbnM6IFsnKiddIC8vIFdpbGRjYXJkID0gYWxsIHBlcm1pc3Npb25zXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICBuYW1lOiAnUmFqZXNoIEt1bWFyJyxcbiAgICBwYXNzd29yZDogJ21hbmFnZXInLFxuICAgIGVtYWlsOiAnbWFuYWdlckBpbmNsaW5lLmd5bScsXG4gICAgaW1hZ2U6ICcvaW1hZ2VzL2F2YXRhcnMvMi5wbmcnLFxuICAgIHRlbmFudElkOiAndGVuYW50LWRlbW8tMDAxJyxcbiAgICBicmFuY2hJZDogJzU3NjMzMmEwLWU0OGMtNDkzMS05MzNkLTkyZGVkZDRlNDYwZicsIC8vIE1haW4gQnJhbmNoXG4gICAgcm9sZXM6IFsnbWFuYWdlciddLFxuICAgIHBlcm1pc3Npb25zOiBbJ21lbWJlcnMuKicsICdjbGFzc2VzLionLCAnYXR0ZW5kYW5jZS4qJywgJ3JlZmVycmFscy4qJywgJ2Rhc2hib2FyZC52aWV3JywgJ3JlcG9ydHMuKicsICdsZWFkcy4qJywgJ2VxdWlwbWVudC4qJywgJ3Byb2R1Y3RzLionLCAnaW52ZW50b3J5LionLCAnbG9ja2Vycy4qJywgJ3N0YWZmLnZpZXcnXVxuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgbmFtZTogJ1ByaXlhIFNoYXJtYScsXG4gICAgcGFzc3dvcmQ6ICd0cmFpbmVyJyxcbiAgICBlbWFpbDogJ3RyYWluZXJAaW5jbGluZS5neW0nLFxuICAgIGltYWdlOiAnL2ltYWdlcy9hdmF0YXJzLzMucG5nJyxcbiAgICB0ZW5hbnRJZDogJ3RlbmFudC1kZW1vLTAwMScsXG4gICAgYnJhbmNoSWQ6ICc1NzYzMzJhMC1lNDhjLTQ5MzEtOTMzZC05MmRlZGQ0ZTQ2MGYnLFxuICAgIHJvbGVzOiBbJ3RyYWluZXInXSxcbiAgICBwZXJtaXNzaW9uczogWydtZW1iZXJzLnZpZXcnLCAnY2xhc3Nlcy4qJywgJ2F0dGVuZGFuY2UudmlldycsICdkYXNoYm9hcmQudmlldyddXG4gIH0sXG4gIHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiAnQW1pdCBQYXRlbCcsXG4gICAgcGFzc3dvcmQ6ICdtZW1iZXInLFxuICAgIGVtYWlsOiAnbWVtYmVyQGluY2xpbmUuZ3ltJyxcbiAgICBpbWFnZTogJy9pbWFnZXMvYXZhdGFycy80LnBuZycsXG4gICAgdGVuYW50SWQ6ICd0ZW5hbnQtZGVtby0wMDEnLFxuICAgIGJyYW5jaElkOiAnNTc2MzMyYTAtZTQ4Yy00OTMxLTkzM2QtOTJkZWRkNGU0NjBmJyxcbiAgICByb2xlczogWydtZW1iZXInXSxcbiAgICBwZXJtaXNzaW9uczogWydtZW1iZXItcG9ydGFsLionLCAnc2VsZi52aWV3J11cbiAgfSxcbiAge1xuICAgIGlkOiA1LFxuICAgIG5hbWU6ICdTbmVoYSBHdXB0YScsXG4gICAgcGFzc3dvcmQ6ICdzdGFmZicsXG4gICAgZW1haWw6ICdzdGFmZkBpbmNsaW5lLmd5bScsXG4gICAgaW1hZ2U6ICcvaW1hZ2VzL2F2YXRhcnMvNS5wbmcnLFxuICAgIHRlbmFudElkOiAndGVuYW50LWRlbW8tMDAxJyxcbiAgICBicmFuY2hJZDogJzU3NjMzMmEwLWU0OGMtNDkzMS05MzNkLTkyZGVkZDRlNDYwZicsXG4gICAgcm9sZXM6IFsnc3RhZmYnXSxcbiAgICBwZXJtaXNzaW9uczogWydhdHRlbmRhbmNlLionLCAnbWVtYmVycy52aWV3JywgJ2NsYXNzZXMudmlldycsICdsb2NrZXJzLnZpZXcnLCAncHJvZHVjdHMudmlldycsICdkYXNoYm9hcmQudmlldyddXG4gIH1cbl1cbiJdLCJuYW1lcyI6WyJ1c2VycyIsImlkIiwibmFtZSIsInBhc3N3b3JkIiwiZW1haWwiLCJpbWFnZSIsInRlbmFudElkIiwiYnJhbmNoSWQiLCJ1bmRlZmluZWQiLCJyb2xlcyIsInBlcm1pc3Npb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/login/users.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/notifications/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/notifications/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _libs_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/libs/auth */ \"(rsc)/./src/libs/auth.ts\");\n/* harmony import */ var _libs_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/libs/prisma */ \"(rsc)/./src/libs/prisma.ts\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_libs_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const user = session.user;\n        const tenantId = user.tenantId;\n        const branchId = user.branchId;\n        if (!tenantId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                notifications: []\n            });\n        }\n        const now = new Date();\n        const sevenDaysLater = new Date(now);\n        sevenDaysLater.setDate(sevenDaysLater.getDate() + 7);\n        const twoHoursLater = new Date(now);\n        twoHoursLater.setHours(twoHoursLater.getHours() + 2);\n        const [membersWithDues, expiringMemberships, upcomingBookings] = await Promise.all([\n            _libs_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.memberMembership.findMany({\n                where: {\n                    member: {\n                        tenantId,\n                        ...branchId ? {\n                            branchId\n                        } : {}\n                    },\n                    balanceDue: {\n                        gt: 0\n                    },\n                    status: _prisma_client__WEBPACK_IMPORTED_MODULE_4__.MembershipStatus.ACTIVE\n                },\n                include: {\n                    member: {\n                        select: {\n                            firstName: true,\n                            lastName: true\n                        }\n                    }\n                },\n                orderBy: {\n                    balanceDue: 'desc'\n                },\n                take: 10\n            }),\n            _libs_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.memberMembership.findMany({\n                where: {\n                    member: {\n                        tenantId,\n                        ...branchId ? {\n                            branchId\n                        } : {}\n                    },\n                    status: _prisma_client__WEBPACK_IMPORTED_MODULE_4__.MembershipStatus.ACTIVE,\n                    endDate: {\n                        gte: now,\n                        lte: sevenDaysLater\n                    }\n                },\n                include: {\n                    member: {\n                        select: {\n                            firstName: true,\n                            lastName: true\n                        }\n                    },\n                    plan: {\n                        select: {\n                            name: true\n                        }\n                    }\n                },\n                orderBy: {\n                    endDate: 'asc'\n                },\n                take: 10\n            }),\n            _libs_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.facilityBooking?.findMany?.({\n                where: {\n                    tenantId,\n                    ...branchId ? {\n                        branchId\n                    } : {},\n                    status: 'CONFIRMED',\n                    bookingDate: {\n                        gte: now,\n                        lte: twoHoursLater\n                    }\n                },\n                include: {\n                    member: {\n                        select: {\n                            firstName: true,\n                            lastName: true\n                        }\n                    },\n                    facility: {\n                        select: {\n                            name: true,\n                            facilityType: true\n                        }\n                    },\n                    bookingSlot: {\n                        select: {\n                            startTime: true\n                        }\n                    }\n                },\n                orderBy: {\n                    bookingDate: 'asc'\n                },\n                take: 10\n            }).catch(()=>[]) ?? Promise.resolve([])\n        ]);\n        const notifications = [];\n        for (const m of membersWithDues){\n            const daysOverdue = Math.floor((now.getTime() - new Date(m.createdAt).getTime()) / (1000 * 60 * 60 * 24));\n            notifications.push({\n                id: `due_${m.id}`,\n                type: 'payment_due',\n                title: `Payment Due: ${m.member.firstName} ${m.member.lastName}`,\n                subtitle: `Outstanding balance: â‚¹${Number(m.balanceDue).toFixed(0)}`,\n                time: daysOverdue > 0 ? `${daysOverdue} days ago` : 'Today',\n                read: false,\n                avatarIcon: 'tabler-currency-rupee',\n                avatarColor: 'error'\n            });\n        }\n        for (const m of expiringMemberships){\n            const daysUntil = Math.ceil((new Date(m.endDate).getTime() - now.getTime()) / (1000 * 60 * 60 * 24));\n            notifications.push({\n                id: `expiry_${m.id}`,\n                type: 'membership_expiry',\n                title: `Membership Expiring: ${m.member.firstName} ${m.member.lastName}`,\n                subtitle: `${m.plan.name} expires ${daysUntil === 0 ? 'today' : `in ${daysUntil} day${daysUntil > 1 ? 's' : ''}`}`,\n                time: new Date(m.endDate).toLocaleDateString(),\n                read: false,\n                avatarIcon: 'tabler-calendar-event',\n                avatarColor: daysUntil <= 1 ? 'error' : daysUntil <= 3 ? 'warning' : 'info'\n            });\n        }\n        for (const b of upcomingBookings){\n            const facilityName = b.facility.name;\n            const isSaunaOrIceBath = [\n                'SAUNA',\n                'ICE_BATH'\n            ].includes(b.facility.facilityType);\n            notifications.push({\n                id: `booking_${b.id}`,\n                type: 'upcoming_booking',\n                title: `Upcoming: ${b.member.firstName} ${b.member.lastName}`,\n                subtitle: `${facilityName} at ${b.bookingSlot.startTime}`,\n                time: 'In 2 hours',\n                read: false,\n                avatarIcon: isSaunaOrIceBath ? 'tabler-flame' : 'tabler-calendar-check',\n                avatarColor: isSaunaOrIceBath ? 'warning' : 'success'\n            });\n        }\n        notifications.sort((a, b)=>{\n            if (!a.read && b.read) return -1;\n            if (a.read && !b.read) return 1;\n            return 0;\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            notifications: notifications.slice(0, 20),\n            counts: {\n                paymentDue: membersWithDues.length,\n                expiringMemberships: expiringMemberships.length,\n                upcomingBookings: upcomingBookings.length,\n                total: notifications.length,\n                unread: notifications.filter((n)=>!n.read).length\n            }\n        });\n    } catch (error) {\n        console.error('Failed to fetch notifications:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            notifications: [],\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_libs_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { action, notificationId, notificationIds } = body;\n        if (action === 'markRead' && notificationId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: 'Notification marked as read'\n            });\n        }\n        if (action === 'markAllRead' && notificationIds) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: 'All notifications marked as read'\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Invalid action'\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error('Failed to update notification:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNYO0FBQ0g7QUFDSDtBQUNXO0FBRTFDLGVBQWVLLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1OLDJEQUFnQkEsQ0FBQ0MsbURBQVdBO1FBRWxELElBQUksQ0FBQ0ssU0FBU0MsTUFBTTtZQUNsQixPQUFPUixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWUsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BFO1FBRUEsTUFBTUgsT0FBT0QsUUFBUUMsSUFBSTtRQUN6QixNQUFNSSxXQUFXSixLQUFLSSxRQUFRO1FBQzlCLE1BQU1DLFdBQVdMLEtBQUtLLFFBQVE7UUFFOUIsSUFBSSxDQUFDRCxVQUFVO1lBQ2IsT0FBT1oscURBQVlBLENBQUNTLElBQUksQ0FBQztnQkFBRUssZUFBZSxFQUFFO1lBQUM7UUFDL0M7UUFFQSxNQUFNQyxNQUFNLElBQUlDO1FBQ2hCLE1BQU1DLGlCQUFpQixJQUFJRCxLQUFLRDtRQUNoQ0UsZUFBZUMsT0FBTyxDQUFDRCxlQUFlRSxPQUFPLEtBQUs7UUFFbEQsTUFBTUMsZ0JBQWdCLElBQUlKLEtBQUtEO1FBQy9CSyxjQUFjQyxRQUFRLENBQUNELGNBQWNFLFFBQVEsS0FBSztRQUVsRCxNQUFNLENBQ0pDLGlCQUNBQyxxQkFDQUMsaUJBQ0QsR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7WUFDcEJ4QixnREFBTUEsQ0FBQ3lCLGdCQUFnQixDQUFDQyxRQUFRLENBQUM7Z0JBQy9CQyxPQUFPO29CQUNMQyxRQUFRO3dCQUNObkI7d0JBQ0EsR0FBSUMsV0FBVzs0QkFBRUE7d0JBQVMsSUFBSSxDQUFDLENBQUM7b0JBQ2xDO29CQUNBbUIsWUFBWTt3QkFBRUMsSUFBSTtvQkFBRTtvQkFDcEJ0QixRQUFRUCw0REFBZ0JBLENBQUM4QixNQUFNO2dCQUNq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UUFFQSxJQUFJRyxXQUFXLGlCQUFpQkUsaUJBQWlCO1lBQy9DLE9BQU85RixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO2dCQUFFc0YsU0FBUztnQkFBTU4sU0FBUztZQUFtQztRQUN4RjtRQUVBLE9BQU96RixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBaUIsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDdEUsRUFBRSxPQUFPRCxPQUFZO1FBQ25COEUsUUFBUTlFLEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU9WLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTStFLE9BQU87UUFBQyxHQUFHO1lBQUU5RSxRQUFRO1FBQUk7SUFDbkU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvYXBwL2FwaS9ub3RpZmljYXRpb25zL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGlicy9hdXRoJ1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWJzL3ByaXNtYSdcbmltcG9ydCB7IE1lbWJlcnNoaXBTdGF0dXMgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKVxuICAgIFxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbi51c2VyIGFzIGFueVxuICAgIGNvbnN0IHRlbmFudElkID0gdXNlci50ZW5hbnRJZFxuICAgIGNvbnN0IGJyYW5jaElkID0gdXNlci5icmFuY2hJZFxuXG4gICAgaWYgKCF0ZW5hbnRJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbm90aWZpY2F0aW9uczogW10gfSlcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgY29uc3Qgc2V2ZW5EYXlzTGF0ZXIgPSBuZXcgRGF0ZShub3cpXG4gICAgc2V2ZW5EYXlzTGF0ZXIuc2V0RGF0ZShzZXZlbkRheXNMYXRlci5nZXREYXRlKCkgKyA3KVxuICAgIFxuICAgIGNvbnN0IHR3b0hvdXJzTGF0ZXIgPSBuZXcgRGF0ZShub3cpXG4gICAgdHdvSG91cnNMYXRlci5zZXRIb3Vycyh0d29Ib3Vyc0xhdGVyLmdldEhvdXJzKCkgKyAyKVxuXG4gICAgY29uc3QgW1xuICAgICAgbWVtYmVyc1dpdGhEdWVzLFxuICAgICAgZXhwaXJpbmdNZW1iZXJzaGlwcyxcbiAgICAgIHVwY29taW5nQm9va2luZ3MsXG4gICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHByaXNtYS5tZW1iZXJNZW1iZXJzaGlwLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBtZW1iZXI6IHsgXG4gICAgICAgICAgICB0ZW5hbnRJZCxcbiAgICAgICAgICAgIC4uLihicmFuY2hJZCA/IHsgYnJhbmNoSWQgfSA6IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhbGFuY2VEdWU6IHsgZ3Q6IDAgfSxcbiAgICAgICAgICBzdGF0dXM6IE1lbWJlcnNoaXBTdGF0dXMuQUNUSVZFLFxuICAgICAgICB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgbWVtYmVyOiB7IHNlbGVjdDogeyBmaXJzdE5hbWU6IHRydWUsIGxhc3ROYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBiYWxhbmNlRHVlOiAnZGVzYycgfSxcbiAgICAgICAgdGFrZTogMTAsXG4gICAgICB9KSxcblxuICAgICAgcHJpc21hLm1lbWJlck1lbWJlcnNoaXAuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIG1lbWJlcjogeyBcbiAgICAgICAgICAgIHRlbmFudElkLFxuICAgICAgICAgICAgLi4uKGJyYW5jaElkID8geyBicmFuY2hJZCB9IDoge30pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdHVzOiBNZW1iZXJzaGlwU3RhdHVzLkFDVElWRSxcbiAgICAgICAgICBlbmREYXRlOiB7IGd0ZTogbm93LCBsdGU6IHNldmVuRGF5c0xhdGVyIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBtZW1iZXI6IHsgc2VsZWN0OiB7IGZpcnN0TmFtZTogdHJ1ZSwgbGFzdE5hbWU6IHRydWUgfSB9LFxuICAgICAgICAgIHBsYW46IHsgc2VsZWN0OiB7IG5hbWU6IHRydWUgfSB9LFxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7IGVuZERhdGU6ICdhc2MnIH0sXG4gICAgICAgIHRha2U6IDEwLFxuICAgICAgfSksXG5cbiAgICAgIChwcmlzbWEgYXMgYW55KS5mYWNpbGl0eUJvb2tpbmc/LmZpbmRNYW55Py4oe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIHRlbmFudElkLFxuICAgICAgICAgIC4uLihicmFuY2hJZCA/IHsgYnJhbmNoSWQgfSA6IHt9KSxcbiAgICAgICAgICBzdGF0dXM6ICdDT05GSVJNRUQnLFxuICAgICAgICAgIGJvb2tpbmdEYXRlOiB7IGd0ZTogbm93LCBsdGU6IHR3b0hvdXJzTGF0ZXIgfSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIG1lbWJlcjogeyBzZWxlY3Q6IHsgZmlyc3ROYW1lOiB0cnVlLCBsYXN0TmFtZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgZmFjaWxpdHk6IHsgc2VsZWN0OiB7IG5hbWU6IHRydWUsIGZhY2lsaXR5VHlwZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgYm9va2luZ1Nsb3Q6IHsgc2VsZWN0OiB7IHN0YXJ0VGltZTogdHJ1ZSB9IH0sXG4gICAgICAgIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgYm9va2luZ0RhdGU6ICdhc2MnIH0sXG4gICAgICAgIHRha2U6IDEwLFxuICAgICAgfSkuY2F0Y2goKCkgPT4gW10pID8/IFByb21pc2UucmVzb2x2ZShbXSksXG4gICAgXSlcblxuICAgIGNvbnN0IG5vdGlmaWNhdGlvbnM6IGFueVtdID0gW11cblxuICAgIGZvciAoY29uc3QgbSBvZiBtZW1iZXJzV2l0aER1ZXMpIHtcbiAgICAgIGNvbnN0IGRheXNPdmVyZHVlID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIG5ldyBEYXRlKG0uY3JlYXRlZEF0KS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxuICAgICAgbm90aWZpY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgaWQ6IGBkdWVfJHttLmlkfWAsXG4gICAgICAgIHR5cGU6ICdwYXltZW50X2R1ZScsXG4gICAgICAgIHRpdGxlOiBgUGF5bWVudCBEdWU6ICR7bS5tZW1iZXIuZmlyc3ROYW1lfSAke20ubWVtYmVyLmxhc3ROYW1lfWAsXG4gICAgICAgIHN1YnRpdGxlOiBgT3V0c3RhbmRpbmcgYmFsYW5jZTog4oK5JHtOdW1iZXIobS5iYWxhbmNlRHVlKS50b0ZpeGVkKDApfWAsXG4gICAgICAgIHRpbWU6IGRheXNPdmVyZHVlID4gMCA/IGAke2RheXNPdmVyZHVlfSBkYXlzIGFnb2AgOiAnVG9kYXknLFxuICAgICAgICByZWFkOiBmYWxzZSxcbiAgICAgICAgYXZhdGFySWNvbjogJ3RhYmxlci1jdXJyZW5jeS1ydXBlZScsXG4gICAgICAgIGF2YXRhckNvbG9yOiAnZXJyb3InLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IG0gb2YgZXhwaXJpbmdNZW1iZXJzaGlwcykge1xuICAgICAgY29uc3QgZGF5c1VudGlsID0gTWF0aC5jZWlsKChuZXcgRGF0ZShtLmVuZERhdGUpLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxuICAgICAgbm90aWZpY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgaWQ6IGBleHBpcnlfJHttLmlkfWAsXG4gICAgICAgIHR5cGU6ICdtZW1iZXJzaGlwX2V4cGlyeScsXG4gICAgICAgIHRpdGxlOiBgTWVtYmVyc2hpcCBFeHBpcmluZzogJHttLm1lbWJlci5maXJzdE5hbWV9ICR7bS5tZW1iZXIubGFzdE5hbWV9YCxcbiAgICAgICAgc3VidGl0bGU6IGAke20ucGxhbi5uYW1lfSBleHBpcmVzICR7ZGF5c1VudGlsID09PSAwID8gJ3RvZGF5JyA6IGBpbiAke2RheXNVbnRpbH0gZGF5JHtkYXlzVW50aWwgPiAxID8gJ3MnIDogJyd9YH1gLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZShtLmVuZERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpLFxuICAgICAgICByZWFkOiBmYWxzZSxcbiAgICAgICAgYXZhdGFySWNvbjogJ3RhYmxlci1jYWxlbmRhci1ldmVudCcsXG4gICAgICAgIGF2YXRhckNvbG9yOiBkYXlzVW50aWwgPD0gMSA/ICdlcnJvcicgOiBkYXlzVW50aWwgPD0gMyA/ICd3YXJuaW5nJyA6ICdpbmZvJyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBiIG9mIHVwY29taW5nQm9va2luZ3MpIHtcbiAgICAgIGNvbnN0IGZhY2lsaXR5TmFtZSA9IGIuZmFjaWxpdHkubmFtZVxuICAgICAgY29uc3QgaXNTYXVuYU9ySWNlQmF0aCA9IFsnU0FVTkEnLCAnSUNFX0JBVEgnXS5pbmNsdWRlcyhiLmZhY2lsaXR5LmZhY2lsaXR5VHlwZSBhcyBzdHJpbmcpXG4gICAgICBcbiAgICAgIG5vdGlmaWNhdGlvbnMucHVzaCh7XG4gICAgICAgIGlkOiBgYm9va2luZ18ke2IuaWR9YCxcbiAgICAgICAgdHlwZTogJ3VwY29taW5nX2Jvb2tpbmcnLFxuICAgICAgICB0aXRsZTogYFVwY29taW5nOiAke2IubWVtYmVyLmZpcnN0TmFtZX0gJHtiLm1lbWJlci5sYXN0TmFtZX1gLFxuICAgICAgICBzdWJ0aXRsZTogYCR7ZmFjaWxpdHlOYW1lfSBhdCAke2IuYm9va2luZ1Nsb3Quc3RhcnRUaW1lfWAsXG4gICAgICAgIHRpbWU6ICdJbiAyIGhvdXJzJyxcbiAgICAgICAgcmVhZDogZmFsc2UsXG4gICAgICAgIGF2YXRhckljb246IGlzU2F1bmFPckljZUJhdGggPyAndGFibGVyLWZsYW1lJyA6ICd0YWJsZXItY2FsZW5kYXItY2hlY2snLFxuICAgICAgICBhdmF0YXJDb2xvcjogaXNTYXVuYU9ySWNlQmF0aCA/ICd3YXJuaW5nJyA6ICdzdWNjZXNzJyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgbm90aWZpY2F0aW9ucy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBpZiAoIWEucmVhZCAmJiBiLnJlYWQpIHJldHVybiAtMVxuICAgICAgaWYgKGEucmVhZCAmJiAhYi5yZWFkKSByZXR1cm4gMVxuICAgICAgcmV0dXJuIDBcbiAgICB9KVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIG5vdGlmaWNhdGlvbnM6IG5vdGlmaWNhdGlvbnMuc2xpY2UoMCwgMjApLFxuICAgICAgY291bnRzOiB7XG4gICAgICAgIHBheW1lbnREdWU6IG1lbWJlcnNXaXRoRHVlcy5sZW5ndGgsXG4gICAgICAgIGV4cGlyaW5nTWVtYmVyc2hpcHM6IGV4cGlyaW5nTWVtYmVyc2hpcHMubGVuZ3RoLFxuICAgICAgICB1cGNvbWluZ0Jvb2tpbmdzOiB1cGNvbWluZ0Jvb2tpbmdzLmxlbmd0aCxcbiAgICAgICAgdG90YWw6IG5vdGlmaWNhdGlvbnMubGVuZ3RoLFxuICAgICAgICB1bnJlYWQ6IG5vdGlmaWNhdGlvbnMuZmlsdGVyKG4gPT4gIW4ucmVhZCkubGVuZ3RoLFxuICAgICAgfSxcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbnM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbm90aWZpY2F0aW9uczogW10sIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKVxuICAgIFxuICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcbiAgICBjb25zdCB7IGFjdGlvbiwgbm90aWZpY2F0aW9uSWQsIG5vdGlmaWNhdGlvbklkcyB9ID0gYm9keVxuXG4gICAgaWYgKGFjdGlvbiA9PT0gJ21hcmtSZWFkJyAmJiBub3RpZmljYXRpb25JZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ05vdGlmaWNhdGlvbiBtYXJrZWQgYXMgcmVhZCcgfSlcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uID09PSAnbWFya0FsbFJlYWQnICYmIG5vdGlmaWNhdGlvbklkcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0FsbCBub3RpZmljYXRpb25zIG1hcmtlZCBhcyByZWFkJyB9KVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBhY3Rpb24nIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgbm90aWZpY2F0aW9uOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInByaXNtYSIsIk1lbWJlcnNoaXBTdGF0dXMiLCJHRVQiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInVzZXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ0ZW5hbnRJZCIsImJyYW5jaElkIiwibm90aWZpY2F0aW9ucyIsIm5vdyIsIkRhdGUiLCJzZXZlbkRheXNMYXRlciIsInNldERhdGUiLCJnZXREYXRlIiwidHdvSG91cnNMYXRlciIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJtZW1iZXJzV2l0aER1ZXMiLCJleHBpcmluZ01lbWJlcnNoaXBzIiwidXBjb21pbmdCb29raW5ncyIsIlByb21pc2UiLCJhbGwiLCJtZW1iZXJNZW1iZXJzaGlwIiwiZmluZE1hbnkiLCJ3aGVyZSIsIm1lbWJlciIsImJhbGFuY2VEdWUiLCJndCIsIkFDVElWRSIsImluY2x1ZGUiLCJzZWxlY3QiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm9yZGVyQnkiLCJ0YWtlIiwiZW5kRGF0ZSIsImd0ZSIsImx0ZSIsInBsYW4iLCJuYW1lIiwiZmFjaWxpdHlCb29raW5nIiwiYm9va2luZ0RhdGUiLCJmYWNpbGl0eSIsImZhY2lsaXR5VHlwZSIsImJvb2tpbmdTbG90Iiwic3RhcnRUaW1lIiwiY2F0Y2giLCJyZXNvbHZlIiwibSIsImRheXNPdmVyZHVlIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsImNyZWF0ZWRBdCIsInB1c2giLCJpZCIsInR5cGUiLCJ0aXRsZSIsInN1YnRpdGxlIiwiTnVtYmVyIiwidG9GaXhlZCIsInRpbWUiLCJyZWFkIiwiYXZhdGFySWNvbiIsImF2YXRhckNvbG9yIiwiZGF5c1VudGlsIiwiY2VpbCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImIiLCJmYWNpbGl0eU5hbWUiLCJpc1NhdW5hT3JJY2VCYXRoIiwiaW5jbHVkZXMiLCJzb3J0IiwiYSIsInNsaWNlIiwiY291bnRzIiwicGF5bWVudER1ZSIsImxlbmd0aCIsInRvdGFsIiwidW5yZWFkIiwiZmlsdGVyIiwibiIsImNvbnNvbGUiLCJtZXNzYWdlIiwiUE9TVCIsImJvZHkiLCJhY3Rpb24iLCJub3RpZmljYXRpb25JZCIsIm5vdGlmaWNhdGlvbklkcyIsInN1Y2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/notifications/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/libs/auth.ts":
/*!**************************!*\
  !*** ./src/libs/auth.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _app_api_login_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/app/api/login/users */ \"(rsc)/./src/app/api/login/users.ts\");\n// Third-party Imports\n\n\n\n\n// Local Imports\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_3__.PrismaClient();\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_2__.PrismaAdapter)(prisma),\n    secret: process.env.NEXTAUTH_SECRET,\n    // ** Configure one or more authentication providers\n    // ** Please refer to https://next-auth.js.org/configuration/options#providers for more `providers` options\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            // ** The name to display on the sign in form (e.g. 'Sign in with...')\n            // ** For more details on Credentials Provider, visit https://next-auth.js.org/providers/credentials\n            name: 'Credentials',\n            type: 'credentials',\n            /*\n       * As we are using our own Sign-in page, we do not need to change\n       * username or password attributes manually in following credentials object.\n       */ credentials: {},\n            async authorize (credentials) {\n                const { email, password } = credentials;\n                try {\n                    const user = _app_api_login_users__WEBPACK_IMPORTED_MODULE_4__.users.find((u)=>u.email === email && u.password === password);\n                    if (user) {\n                        const { password: _, ...filteredUserData } = user;\n                        return {\n                            ...filteredUserData,\n                            id: filteredUserData.id.toString()\n                        };\n                    } else {\n                        throw new Error(JSON.stringify({\n                            message: [\n                                'Email or Password is invalid'\n                            ]\n                        }));\n                    }\n                } catch (e) {\n                    throw new Error(e.message);\n                }\n            }\n        }),\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        })\n    ],\n    // ** Please refer to https://next-auth.js.org/configuration/options#session for more `session` options\n    session: {\n        /*\n     * Choose how you want to save the user session.\n     * The default is `jwt`, an encrypted JWT (JWE) stored in the session cookie.\n     * If you use an `adapter` however, NextAuth default it to `database` instead.\n     * You can still force a JWT session by explicitly defining `jwt`.\n     * When using `database`, the session cookie will only contain a `sessionToken` value,\n     * which is used to look up the session in the database.\n     * If you use a custom credentials provider, user accounts will not be persisted in a database by NextAuth.js (even if one is configured).\n     * The option to use JSON Web Tokens for session tokens must be enabled to use a custom credentials provider.\n     */ strategy: 'jwt',\n        // ** Seconds - How long until an idle session expires and is no longer valid\n        maxAge: 30 * 24 * 60 * 60 // ** 30 days\n    },\n    // ** Please refer to https://next-auth.js.org/configuration/options#pages for more `pages` options\n    pages: {\n        signIn: '/login'\n    },\n    // ** Please refer to https://next-auth.js.org/configuration/options#callbacks for more `callbacks` options\n    callbacks: {\n        /*\n     * While using `jwt` as a strategy, `jwt()` callback will be called before\n     * the `session()` callback. So we have to add custom parameters in `token`\n     * via `jwt()` callback to make them accessible in the `session()` callback\n     */ async jwt ({ token, user, account }) {\n            if (user) {\n                /*\n         * For adding custom parameters to user in session, we first need to add those parameters\n         * in token which then will be available in the `session()` callback\n         */ token.id = user.id;\n                token.name = user.name;\n                token.email = user.email;\n                // SECURITY: For OAuth providers, user data doesn't include tenantId/roles/permissions\n                // These must be provisioned in the database via User model after first login\n                // Until provisioned, OAuth users have NO access (empty arrays)\n                const isOAuthLogin = account?.provider && account.provider !== 'credentials';\n                if (isOAuthLogin) {\n                    // OAuth users: fetch from database User model (TODO: implement database lookup)\n                    // For now, OAuth users have no access until admin provisions them\n                    token.tenantId = user.tenantId || null;\n                    token.branchId = user.branchId || null;\n                    token.permissions = user.permissions || [];\n                    token.roles = user.roles || [];\n                } else {\n                    // Credentials login: use data from credentials provider\n                    token.tenantId = user.tenantId || 'tenant-demo-001' // Fallback for demo only\n                    ;\n                    token.branchId = user.branchId || null;\n                    token.permissions = user.permissions || [];\n                    token.roles = user.roles || [];\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                // ** Add custom params to user in session which are added in `jwt()` callback via `token` parameter\n                ;\n                session.user.id = token.id;\n                session.user.name = token.name;\n                session.user.email = token.email;\n                session.user.tenantId = token.tenantId;\n                session.user.branchId = token.branchId;\n                session.user.permissions = token.permissions;\n                session.user.roles = token.roles;\n            }\n            return session;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksRUFBRTtvQkFDbkROLE1BQU1PLEtBQUssR0FBRyxLQUFjQSxLQUFLLElBQUksRUFBRTtnQkFDekM7WUFDRjtZQUVBLE9BQU9QO1FBQ1Q7UUFDQSxNQUFNUCxTQUFRLEVBQUVBLE9BQU8sRUFBRU8sS0FBSyxFQUFFO1lBQzlCLElBQUlQLFFBQVFoQixJQUFJLEVBQUU7Z0JBQ2hCLG9HQUFvRzs7Z0JBQ2xHZ0IsUUFBUWhCLElBQUksQ0FBU0ssRUFBRSxHQUFHa0IsTUFBTWxCLEVBQUU7Z0JBQ3BDVyxRQUFRaEIsSUFBSSxDQUFDTixJQUFJLEdBQUc2QixNQUFNN0IsSUFBSTtnQkFDOUJzQixRQUFRaEIsSUFBSSxDQUFDRixLQUFLLEdBQUd5QixNQUFNekIsS0FBSztnQkFDL0JrQixRQUFRaEIsSUFBSSxDQUFTMkIsUUFBUSxHQUFHSixNQUFNSSxRQUFRO2dCQUM5Q1gsUUFBUWhCLElBQUksQ0FBUzRCLFFBQVEsR0FBR0wsTUFBTUssUUFBUTtnQkFDOUNaLFFBQVFoQixJQUFJLENBQVM2QixXQUFXLEdBQUdOLE1BQU1NLFdBQVc7Z0JBQ3BEYixRQUFRaEIsSUFBSSxDQUFTOEIsS0FBSyxHQUFHUCxNQUFNTyxLQUFLO1lBQzNDO1lBRUEsT0FBT2Q7UUFDVDtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zcmMvbGlicy9hdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXJkLXBhcnR5IEltcG9ydHNcbmltcG9ydCBDcmVkZW50aWFsUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscydcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSdcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAYXV0aC9wcmlzbWEtYWRhcHRlcidcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuaW1wb3J0IHR5cGUgeyBOZXh0QXV0aE9wdGlvbnMgfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgdHlwZSB7IEFkYXB0ZXIgfSBmcm9tICduZXh0LWF1dGgvYWRhcHRlcnMnXG5cbi8vIExvY2FsIEltcG9ydHNcbmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnQC9hcHAvYXBpL2xvZ2luL3VzZXJzJ1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSBhcyBBZGFwdGVyLFxuXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuXG4gIC8vICoqIENvbmZpZ3VyZSBvbmUgb3IgbW9yZSBhdXRoZW50aWNhdGlvbiBwcm92aWRlcnNcbiAgLy8gKiogUGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9jb25maWd1cmF0aW9uL29wdGlvbnMjcHJvdmlkZXJzIGZvciBtb3JlIGBwcm92aWRlcnNgIG9wdGlvbnNcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbFByb3ZpZGVyKHtcbiAgICAgIC8vICoqIFRoZSBuYW1lIHRvIGRpc3BsYXkgb24gdGhlIHNpZ24gaW4gZm9ybSAoZS5nLiAnU2lnbiBpbiB3aXRoLi4uJylcbiAgICAgIC8vICoqIEZvciBtb3JlIGRldGFpbHMgb24gQ3JlZGVudGlhbHMgUHJvdmlkZXIsIHZpc2l0IGh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9wcm92aWRlcnMvY3JlZGVudGlhbHNcbiAgICAgIG5hbWU6ICdDcmVkZW50aWFscycsXG4gICAgICB0eXBlOiAnY3JlZGVudGlhbHMnLFxuXG4gICAgICAvKlxuICAgICAgICogQXMgd2UgYXJlIHVzaW5nIG91ciBvd24gU2lnbi1pbiBwYWdlLCB3ZSBkbyBub3QgbmVlZCB0byBjaGFuZ2VcbiAgICAgICAqIHVzZXJuYW1lIG9yIHBhc3N3b3JkIGF0dHJpYnV0ZXMgbWFudWFsbHkgaW4gZm9sbG93aW5nIGNyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgICAqL1xuICAgICAgY3JlZGVudGlhbHM6IHt9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBjcmVkZW50aWFscyBhcyB7IGVtYWlsOiBzdHJpbmc7IHBhc3N3b3JkOiBzdHJpbmcgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LmVtYWlsID09PSBlbWFpbCAmJiB1LnBhc3N3b3JkID09PSBwYXNzd29yZClcblxuICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBjb25zdCB7IHBhc3N3b3JkOiBfLCAuLi5maWx0ZXJlZFVzZXJEYXRhIH0gPSB1c2VyXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmZpbHRlcmVkVXNlckRhdGEsXG4gICAgICAgICAgICAgIGlkOiBmaWx0ZXJlZFVzZXJEYXRhLmlkLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogWydFbWFpbCBvciBQYXNzd29yZCBpcyBpbnZhbGlkJ11cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEIGFzIHN0cmluZyxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgYXMgc3RyaW5nXG4gICAgfSlcblxuICAgIC8vICoqIC4uLmFkZCBtb3JlIHByb3ZpZGVycyBoZXJlXG4gIF0sXG5cbiAgLy8gKiogUGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9jb25maWd1cmF0aW9uL29wdGlvbnMjc2Vzc2lvbiBmb3IgbW9yZSBgc2Vzc2lvbmAgb3B0aW9uc1xuICBzZXNzaW9uOiB7XG4gICAgLypcbiAgICAgKiBDaG9vc2UgaG93IHlvdSB3YW50IHRvIHNhdmUgdGhlIHVzZXIgc2Vzc2lvbi5cbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBgand0YCwgYW4gZW5jcnlwdGVkIEpXVCAoSldFKSBzdG9yZWQgaW4gdGhlIHNlc3Npb24gY29va2llLlxuICAgICAqIElmIHlvdSB1c2UgYW4gYGFkYXB0ZXJgIGhvd2V2ZXIsIE5leHRBdXRoIGRlZmF1bHQgaXQgdG8gYGRhdGFiYXNlYCBpbnN0ZWFkLlxuICAgICAqIFlvdSBjYW4gc3RpbGwgZm9yY2UgYSBKV1Qgc2Vzc2lvbiBieSBleHBsaWNpdGx5IGRlZmluaW5nIGBqd3RgLlxuICAgICAqIFdoZW4gdXNpbmcgYGRhdGFiYXNlYCwgdGhlIHNlc3Npb24gY29va2llIHdpbGwgb25seSBjb250YWluIGEgYHNlc3Npb25Ub2tlbmAgdmFsdWUsXG4gICAgICogd2hpY2ggaXMgdXNlZCB0byBsb29rIHVwIHRoZSBzZXNzaW9uIGluIHRoZSBkYXRhYmFzZS5cbiAgICAgKiBJZiB5b3UgdXNlIGEgY3VzdG9tIGNyZWRlbnRpYWxzIHByb3ZpZGVyLCB1c2VyIGFjY291bnRzIHdpbGwgbm90IGJlIHBlcnNpc3RlZCBpbiBhIGRhdGFiYXNlIGJ5IE5leHRBdXRoLmpzIChldmVuIGlmIG9uZSBpcyBjb25maWd1cmVkKS5cbiAgICAgKiBUaGUgb3B0aW9uIHRvIHVzZSBKU09OIFdlYiBUb2tlbnMgZm9yIHNlc3Npb24gdG9rZW5zIG11c3QgYmUgZW5hYmxlZCB0byB1c2UgYSBjdXN0b20gY3JlZGVudGlhbHMgcHJvdmlkZXIuXG4gICAgICovXG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuXG4gICAgLy8gKiogU2Vjb25kcyAtIEhvdyBsb25nIHVudGlsIGFuIGlkbGUgc2Vzc2lvbiBleHBpcmVzIGFuZCBpcyBubyBsb25nZXIgdmFsaWRcbiAgICBtYXhBZ2U6IDMwICogMjQgKiA2MCAqIDYwIC8vICoqIDMwIGRheXNcbiAgfSxcblxuICAvLyAqKiBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9uZXh0LWF1dGguanMub3JnL2NvbmZpZ3VyYXRpb24vb3B0aW9ucyNwYWdlcyBmb3IgbW9yZSBgcGFnZXNgIG9wdGlvbnNcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvbG9naW4nXG4gIH0sXG5cbiAgLy8gKiogUGxlYXNlIHJlZmVyIHRvIGh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9jb25maWd1cmF0aW9uL29wdGlvbnMjY2FsbGJhY2tzIGZvciBtb3JlIGBjYWxsYmFja3NgIG9wdGlvbnNcbiAgY2FsbGJhY2tzOiB7XG4gICAgLypcbiAgICAgKiBXaGlsZSB1c2luZyBgand0YCBhcyBhIHN0cmF0ZWd5LCBgand0KClgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGJlZm9yZVxuICAgICAqIHRoZSBgc2Vzc2lvbigpYCBjYWxsYmFjay4gU28gd2UgaGF2ZSB0byBhZGQgY3VzdG9tIHBhcmFtZXRlcnMgaW4gYHRva2VuYFxuICAgICAqIHZpYSBgand0KClgIGNhbGxiYWNrIHRvIG1ha2UgdGhlbSBhY2Nlc3NpYmxlIGluIHRoZSBgc2Vzc2lvbigpYCBjYWxsYmFja1xuICAgICAqL1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIEZvciBhZGRpbmcgY3VzdG9tIHBhcmFtZXRlcnMgdG8gdXNlciBpbiBzZXNzaW9uLCB3ZSBmaXJzdCBuZWVkIHRvIGFkZCB0aG9zZSBwYXJhbWV0ZXJzXG4gICAgICAgICAqIGluIHRva2VuIHdoaWNoIHRoZW4gd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlIGBzZXNzaW9uKClgIGNhbGxiYWNrXG4gICAgICAgICAqL1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWRcbiAgICAgICAgdG9rZW4ubmFtZSA9IHVzZXIubmFtZVxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgICAgXG4gICAgICAgIC8vIFNFQ1VSSVRZOiBGb3IgT0F1dGggcHJvdmlkZXJzLCB1c2VyIGRhdGEgZG9lc24ndCBpbmNsdWRlIHRlbmFudElkL3JvbGVzL3Blcm1pc3Npb25zXG4gICAgICAgIC8vIFRoZXNlIG11c3QgYmUgcHJvdmlzaW9uZWQgaW4gdGhlIGRhdGFiYXNlIHZpYSBVc2VyIG1vZGVsIGFmdGVyIGZpcnN0IGxvZ2luXG4gICAgICAgIC8vIFVudGlsIHByb3Zpc2lvbmVkLCBPQXV0aCB1c2VycyBoYXZlIE5PIGFjY2VzcyAoZW1wdHkgYXJyYXlzKVxuICAgICAgICBjb25zdCBpc09BdXRoTG9naW4gPSBhY2NvdW50Py5wcm92aWRlciAmJiBhY2NvdW50LnByb3ZpZGVyICE9PSAnY3JlZGVudGlhbHMnXG4gICAgICAgIFxuICAgICAgICBpZiAoaXNPQXV0aExvZ2luKSB7XG4gICAgICAgICAgLy8gT0F1dGggdXNlcnM6IGZldGNoIGZyb20gZGF0YWJhc2UgVXNlciBtb2RlbCAoVE9ETzogaW1wbGVtZW50IGRhdGFiYXNlIGxvb2t1cClcbiAgICAgICAgICAvLyBGb3Igbm93LCBPQXV0aCB1c2VycyBoYXZlIG5vIGFjY2VzcyB1bnRpbCBhZG1pbiBwcm92aXNpb25zIHRoZW1cbiAgICAgICAgICB0b2tlbi50ZW5hbnRJZCA9ICh1c2VyIGFzIGFueSkudGVuYW50SWQgfHwgbnVsbFxuICAgICAgICAgIHRva2VuLmJyYW5jaElkID0gKHVzZXIgYXMgYW55KS5icmFuY2hJZCB8fCBudWxsXG4gICAgICAgICAgdG9rZW4ucGVybWlzc2lvbnMgPSAodXNlciBhcyBhbnkpLnBlcm1pc3Npb25zIHx8IFtdXG4gICAgICAgICAgdG9rZW4ucm9sZXMgPSAodXNlciBhcyBhbnkpLnJvbGVzIHx8IFtdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQ3JlZGVudGlhbHMgbG9naW46IHVzZSBkYXRhIGZyb20gY3JlZGVudGlhbHMgcHJvdmlkZXJcbiAgICAgICAgICB0b2tlbi50ZW5hbnRJZCA9ICh1c2VyIGFzIGFueSkudGVuYW50SWQgfHwgJ3RlbmFudC1kZW1vLTAwMScgLy8gRmFsbGJhY2sgZm9yIGRlbW8gb25seVxuICAgICAgICAgIHRva2VuLmJyYW5jaElkID0gKHVzZXIgYXMgYW55KS5icmFuY2hJZCB8fCBudWxsXG4gICAgICAgICAgdG9rZW4ucGVybWlzc2lvbnMgPSAodXNlciBhcyBhbnkpLnBlcm1pc3Npb25zIHx8IFtdXG4gICAgICAgICAgdG9rZW4ucm9sZXMgPSAodXNlciBhcyBhbnkpLnJvbGVzIHx8IFtdXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRva2VuXG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgaWYgKHNlc3Npb24udXNlcikge1xuICAgICAgICAvLyAqKiBBZGQgY3VzdG9tIHBhcmFtcyB0byB1c2VyIGluIHNlc3Npb24gd2hpY2ggYXJlIGFkZGVkIGluIGBqd3QoKWAgY2FsbGJhY2sgdmlhIGB0b2tlbmAgcGFyYW1ldGVyXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkuaWQgPSB0b2tlbi5pZCBhcyBzdHJpbmdcbiAgICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB0b2tlbi5uYW1lIGFzIHN0cmluZ1xuICAgICAgICBzZXNzaW9uLnVzZXIuZW1haWwgPSB0b2tlbi5lbWFpbCBhcyBzdHJpbmc7XG4gICAgICAgIChzZXNzaW9uLnVzZXIgYXMgYW55KS50ZW5hbnRJZCA9IHRva2VuLnRlbmFudElkO1xuICAgICAgICAoc2Vzc2lvbi51c2VyIGFzIGFueSkuYnJhbmNoSWQgPSB0b2tlbi5icmFuY2hJZDtcbiAgICAgICAgKHNlc3Npb24udXNlciBhcyBhbnkpLnBlcm1pc3Npb25zID0gdG9rZW4ucGVybWlzc2lvbnM7XG4gICAgICAgIChzZXNzaW9uLnVzZXIgYXMgYW55KS5yb2xlcyA9IHRva2VuLnJvbGVzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbFByb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJQcmlzbWFBZGFwdGVyIiwiUHJpc21hQ2xpZW50IiwidXNlcnMiLCJwcmlzbWEiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwicHJvdmlkZXJzIiwibmFtZSIsInR5cGUiLCJjcmVkZW50aWFscyIsImF1dGhvcml6ZSIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyIiwiZmluZCIsInUiLCJfIiwiZmlsdGVyZWRVc2VyRGF0YSIsImlkIiwidG9TdHJpbmciLCJFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwiZSIsImNsaWVudElkIiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwicGFnZXMiLCJzaWduSW4iLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJpc09BdXRoTG9naW4iLCJwcm92aWRlciIsInRlbmFudElkIiwiYnJhbmNoSWQiLCJwZXJtaXNzaW9ucyIsInJvbGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/libs/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/libs/prisma.ts":
/*!****************************!*\
  !*** ./src/libs/prisma.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGlicy9wcmlzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUU7QUFFbEUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL3NyYy9saWJzL3ByaXNtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/libs/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/@babel","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/@auth","vendor-chunks/@panva","vendor-chunks/oidc-token-hash"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnotifications%2Froute&page=%2Fapi%2Fnotifications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnotifications%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();